{% extends 'portaladmin/base.html' %}
{% load staticfiles %}
{% block topcontent %}
<div id="page-wrapper">
    <div class="row">
        <div class="col-lg-12">
            <h2 class="page-header">Mindmap</h2>
        </div>
        <!-- /.col-lg-12 -->
    </div>
{% endblock topcontent %}
{% block botcontent %}
<ul id="structure">
    <li><div><span>buzzmap</span></div>

      <ul>
        <li><div><span>Resources</span></div>

          <ul>
            <li><div><span><a href="http://raphaeljs.com/" target="_blank">RaphaÃ«l</a></span></div></li> 
            <li><div><span><a href="http://jquery.com/" target="_blank">jQuery</a></span></div></li> 
            <li><div><span><a href="http://jqueryui.com/" target="_blank">jQueryUI</a></span></div></li>
            <li><div><span><a href="https://github.com/kennethkufluk/js-mindmap" target="_blank">js-mindmap</a></span></div></li>
          </ul>

        </li>
        <li><div><span><a href="https://github.com/marcelklehr/buzzmap/zipball/master">Download</a></span></div></li>
        <li><div><span>Features</span></div>

          <ul>
            <li><div><span>Mindmapping</span></div></li> 
            <li><div><span>Brainstorming</span></div></li> 
            <li><div><span>Editing</span></div></li>
            <li><div><span>Visualisation</span></div></li>
          </ul>

        </li>
        <li><div><span>Files</span></div>
          <ul>
          <li><div><span><a href="index.html" target="_blank">index.html</a></span></div></li> 
            <li><div><span><a href="buzzmap.js" target="_blank">buzzmap.js</a></span></div></li> 
            <li><div><span><a href="styles.css" target="_blank">styles.css</a></span></div></li>
            <li><div><span><a href="raphael.min.js" target="_blank">raphael.min.js</a></span></div></li>
            <li><div><span><a href="README.md" target="_blank">README</a></span></div></li>
            <li><div><span><a href="LICENSE" target="_blank">LICENSE</a></span></div></li>
          </ul>
        </li>

        <li><div><span>Licence</span></div>
          <ul>
            <li><div><span>MIT Licence</span></div></li> 
            <li><div><span><a href="LICENSE" target="_blank">Conditions</a></span></div></li>
          </ul>
      </ul>
    </li>
  </ul>
<div id="container">
  
</div>
{% endblock botcontent%}

{% block morescript %}
<script id="admin-form" type="text/x-jsrender">
    <textarea id="summernote"></textarea>
</script>
<script src="{%static "bower_components/jquery-ui/jquery-ui.min.js" %}"></script>
<script src="{%static "bower_components/raphael/raphael.js" %}"></script>
<script src="{%static "bower_components/buzzmap/buzzmap.js" %}"></script>
<script src="{% static "bower_components/bootstrap3-dialog/dist/js/bootstrap-dialog.js" %}"></script>
<script src="{% static "bower_components/jsrender/jsrender.min.js" %}"></script>
<script src="{%static "bower_components/summernote/dist/summernote.min.js" %}"></script>

{% endblock morescript %}

{% block scriptcontent %}
<script>
window.TTS = window.TTS || {};
TTS.forms = TTS.forms || {}; 
$(document).ready(function(){
  $('#container').buzzmap({
    structure: '#structure',
    editable: true,
  });
});

TTS.forms.mindmap = function(node){
   BootstrapDialog.show({
        title: 'Add Administrator',
        message: $($('#admin-form').render()),
        onshown: function(){
          $('#summernote').val(node.label()).summernote();
        },
        buttons: [{
            label: 'Update Text',
            cssClass: 'btn-primary',
            action: function(dialogItself){
              node.label("<span>"+$('#summernote').code()+"<span>");
              dialogItself.close();   
            }
            },{
            label: 'Cancel',
            action: function(dialogItself){
                dialogItself.close();
            }
        }]
    });
};
</script>
{% endblock scriptcontent %}

{% block morecss %}
<!--
<link href="{%static "css/plugins/dataTables.bootstrap.css" %}" rel="stylesheet">
-->
<link rel="stylesheet" href="{%static "bower_components/buzzmap/styles.css" %}" />

<link href="{%static "bower_components/bootstrap3-dialog/dist/css/bootstrap-dialog.css" %}" rel="stylesheet">
<link rel="stylesheet" href="{%static "bower_components/summernote/dist/summernote.css" %}">
<style>
#instr {
  clear:left;
  padding-left:1em;
}
#container {
  background-color: blue;
  top:0;
  width:100%;
  height:100%;
  z-index:1;
}
</style>
{% endblock morecss %}
