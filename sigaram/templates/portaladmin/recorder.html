{% extends 'portaladmin/base.html' %}
{% load staticfiles %}
{% load i18n %}
{% block topcontent %}
<div class="row">
    <div class="col-lg-12">
        <h2 class="page-header">Recorder</h2>
    </div>
    <!-- /.col-lg-12 -->
</div>
{% endblock topcontent %}
{% block botcontent %}
<div class="col-lg-12">
    <div class="panel panel-default">
        <div class="panel-heading">
             Recorder
        </div>
        <section class="recorder-container">
            <div class="recorder">
                <div class="level">
                    <div class="progress"></div>
                </div>
                <button class="start-recording" onclick="FWRecorder.record('audio', 'audio.wav');">
                    <i class="fa fa-circle fa-fw text-danger"></i>
                </button>
                <button class="stop-recording" onclick="FWRecorder.stopRecording('audio');">
                    <i class="fa fa-stop fa-fw"></i>
                    <!-- img src="{%static "FlashWavRecorder/html/images/stop.png" %}" alt="Stop Recording"/ -->
                </button>
                <button class="start-playing" onclick="FWRecorder.playBack('audio');" title="Play">
                    <i class="fa fa-play fa-fw"></i>
                    <!-- img src="{%static "FlashWavRecorder/html/images/play.png" %}" alt="Play"/ -->
                </button>
                <div class="upload" style="display: inline-block">
                    <div id="flashcontent">
                        <p>Your browser must have JavaScript enabled and the Adobe Flash Player installed.</p>
                    </div>
                </div>
            </div>
            <form id="uploadForm" name="uploadForm" action="/api/admin/audioupload/">
                <input id="authenticity_token" name="authenticity_token" value="xxxxx" type="hidden">
                <input id="upload_file[parent_id]" name="upload_file[parent_id]" value="1" type="hidden">
                <input id="uploadfilename" name="uploadfilename"  type="text">
                <input id="format" name="format" value="json" type="hidden">
            </form>
            <audio controls>
                <source src="/static/file.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
        </section>
    </div>
</div>
{% endblock botcontent%}

{% block morecss %}
<link href="{%static "css/plugins/dataTables.bootstrap.css" %}" rel="stylesheet">
<link href="{%static "bower_components/bootstrap3-dialog/dist/css/bootstrap-dialog.css" %}" rel="stylesheet">
<link type="text/css" rel="stylesheet" href="{%static "FlashWavRecorder/html/basic/basic.css"%}">
<style>
    #addrec:hover, #admin-main-tbl tbody tr:hover{
        cursor: pointer;
    }

    /* Styles for recorder buttons */
    .recorder button, .recorder .upload, .level {
        border: 1px solid #686868;
        height: 30px;
        background-color: white;
        display: inline-block;
        vertical-align: bottom;
        margin: 2px;
        box-sizing: border-box;
        border-radius: 4px;
    }

    /* Styles for level indicator - required! */
    .level {
        width: 30px;
        height: 30px;
        position: relative;
    }
    .progress {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        background-color: #b10000;
        margin-bottom: 0px;/*Override BS*/
        height: 0px;
    }
    .upload {
        padding-top: 2px;
    }

</style>
{% endblock morecss %}
{% block morescript %}
<!-- script-->
<script type="text/javascript" src="{%static "FlashWavRecorder/html/js/swfobject.js"%}"></script>
<script type="text/javascript" src="{%static "FlashWavRecorder/html/js/recorder.js"%}"></script>
<script type="text/javascript" src="{%static "FlashWavRecorder/html/basic/basic.js"%}"></script>

{% endblock morescript %}

{% block scriptcontent %}
{% endblock scriptcontent %}


